<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="demo-panel.html">
<link rel="import" href="demo-fruits.html">
<link rel="import" href="../dude-layout.html">

<dom-module id="demo-layout">

    <style>
        :host {
            display: flex;
            flex: 1;
        }
    </style>

    <template>
        <content></content>
    </template>

    <script>
        Polymer({
            is: "demo-layout",

            properties: {
                config: {
                    type: Object,
                    value: {
                        type: "main",
                        horizontal: true,
                        children: [
                            {
                                type: "dock",
                                children: [
                                    {
                                        type: "block",
                                        children: [
                                            {
                                                type: "page",
                                                title: "Scene editor",
                                                page: "DemoPanel"
                                            },
                                            {
                                                type: "page",
                                                title: "Graph editor",
                                                page: "DemoFruits",
                                                selected: true
                                            }
                                        ]
                                    },
                                    {
                                        type: "dock",
                                        horizontal: true,
                                        children: [
                                            {
                                                type: "dock",
                                                horizontal: true,
                                                children: [
                                                    {
                                                        type: "block",
                                                        children: [
                                                            {
                                                                type: "page",
                                                                title: "Debugger",
                                                                page: "DemoPanel"
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        type: "block",
                                                        children: [
                                                            {
                                                                type: "page",
                                                                title: "Debugger",
                                                                page: "DemoPanel"
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                type: "block",
                                                children: [
                                                    {
                                                        type: "page",
                                                        title: "Debugger",
                                                        page: "DemoPanel"
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        type: "block",
                                        children: [
                                            {
                                                type: "page",
                                                title: "Console",
                                                page: "DemoPanel"
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                type: "dock",
                                children: [
                                    {
                                        type: "block",
                                        children: [
                                            {
                                                type: "page",
                                                title: "Inspector",
                                                page: "DemoPanel"
                                            },
                                            {
                                                type: "page",
                                                title: "Entities",
                                                page: "DemoFruits",
                                                selected: true
                                            }
                                        ]
                                    },
                                    {
                                        type: "dock",
                                        children: [
                                            {
                                                type: "block",
                                                children: [
                                                    {
                                                        title: "Resources",
                                                        page: "DemoPanel",
                                                        type: "page"
                                                    }
                                                ]
                                            },
                                            {
                                                type: "block",
                                                children: [
                                                    {
                                                        title: "Resources",
                                                        page: "DemoPanel",
                                                        type: "page"
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                }
            },

            ready: function () {
                var editor = new DudeLayout();
                Polymer.dom(this).appendChild(editor);
                editor.config = this.config;
                editor.load();
/*                this._width = window.innerWidth;
                this._height = window.innerHeight;
                window.addEventListener("resize", function () {
                    var deltaX = window.innerWidth - this._width;
                    var deltaY = window.innerHeight - this._height; // take size in account?
                    this._width = window.innerWidth;
                    this._height = window.innerHeight;
                    editor.resizeEditor(deltaX, deltaY);
                }.bind(this));*/
            }
        });
    </script>

</dom-module>